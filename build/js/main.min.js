"use strict";!function(){function t(){var t=document.querySelector("section"),e=t.querySelector(".slider__wrapper"),i=t.querySelector(".slider__inner"),n=t.querySelectorAll(".slider__item"),s=t.querySelectorAll(".slider__btn"),a=e.offsetWidth,o=n[0].offsetWidth,r=parseFloat(getComputedStyle(n[0]).marginRight),c=(a-o)/(o+r)+1,l=0,u=0,_=[];i.removeAttribute("style"),n.forEach(function(t){t.removeAttribute("style")}),n.forEach(function(t,e){_.push({item:t,position:e,transform:0})});function f(t){var e;if("right"===t){if((l+=c)+c-1>g.getMax())for(var n=l+c-g.getMax()-1,s=0;s<n;s++)e=g.getMinItem(),_[e].position=g.getMax()+1,_[e].transform+=_.length*(o+r),_[e].item.style.transform="translateX("+_[e].transform+"px)";u-=a+r}if("left"===t){if((l-=c)<g.getMin())for(s=0;s<c;s++)e=g.getMaxItem(),_[e].position=g.getMin()-1,_[e].transform-=_.length*(o+r),_[e].item.style.transform="translateX("+_[e].transform+"px)";u+=a+r}i.style.transform="translateX("+u+"px)"}function d(t){var e;(t.target.classList.contains("slider__btn")||t.target.parentNode.classList.contains("slider__btn"))&&(t.preventDefault(),e=t.target.classList.contains("slider__btn--right")||t.target.parentNode.classList.contains("slider__control--right")?"right":"left",f(e))}function m(t){function e(t){var e=t.changedTouches[0].pageX,n=o-e;s=n<0?"left":0<n?"right":null,r+=Math.abs(n),o=e}var s,o=t.changedTouches[0].pageX,r=0,n=function(){i.removeEventListener("touchmove",e),i.removeEventListener("touchend",n),.3*a<r&&f(s)};i.addEventListener("touchmove",e),i.addEventListener("touchend",n)}var g={getMinItem:function(){var n=0;return _.forEach(function(t,e){t.position<_[n].position&&(n=e)}),n},getMaxItem:function(){var n=0;return _.forEach(function(t,e){t.position>_[n].position&&(n=e)}),n},getMin:function(){return _[g.getMinItem()].position},getMax:function(){return _[g.getMaxItem()].position}};s.forEach(function(t){t.addEventListener("click",d)}),i.addEventListener("touchstart",m)}t(),t()}(),function(){var t=document.querySelector(".controls__list"),o=document.querySelectorAll(".controls__btn"),r=document.querySelectorAll(".abonements__list"),i=document.querySelector(".abonements__list--first"),a=document.querySelector(".abonements__list--second"),c=document.querySelector(".abonements__list--third"),l="controls__btn--first",u="controls__btn--second",_="controls__btn--third";t.addEventListener("click",function(t){if(!t.target.closest("button").classList.contains("controls__btn--active")){for(var e=0;e<o.length;e++)o[e].classList.contains("controls__btn--active")&&o[e].classList.remove("controls__btn--active");var n=t.target.closest("button");n.classList.add("controls__btn--active");for(var s=0;s<r.length;s++)r[s].classList.contains("abonements__list--shown")&&r[s].classList.remove("abonements__list--shown");n.classList.contains(l)?i.classList.add("abonements__list--shown"):n.classList.contains(u)?a.classList.add("abonements__list--shown"):n.classList.contains(_)&&c.classList.add("abonements__list--shown")}})}();