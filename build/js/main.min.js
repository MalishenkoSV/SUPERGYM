"use strict";!function(){var t=document.querySelector(".controls__list"),o=document.querySelectorAll(".controls__btn"),i=document.querySelectorAll(".abonements__list"),r=document.querySelector(".abonements__list--first"),a=document.querySelector(".abonements__list--second"),c=document.querySelector(".abonements__list--third"),l="controls__btn--first",u="controls__btn--second",d="controls__btn--third";t.addEventListener("click",function(t){if(!t.target.closest("button").classList.contains("controls__btn--active")){for(var e=0;e<o.length;e++)o[e].classList.contains("controls__btn--active")&&o[e].classList.remove("controls__btn--active");var n=t.target.closest("button");n.classList.add("controls__btn--active");for(var s=0;s<i.length;s++)i[s].classList.contains("abonements__list--shown")&&i[s].classList.remove("abonements__list--shown");n.classList.contains(l)?r.classList.add("abonements__list--shown"):n.classList.contains(u)?a.classList.add("abonements__list--shown"):n.classList.contains(d)&&c.classList.add("abonements__list--shown")}})}(),function(){function t(t){var e=document.querySelector(t),n=e.querySelector(".slider__wrapper"),r=e.querySelector(".slider__inner"),s=e.querySelectorAll(".slider__item"),o=e.querySelectorAll(".slider__btn"),a=n.offsetWidth,i=s[0].offsetWidth,c=parseFloat(getComputedStyle(s[0]).marginRight),l=(a-i)/(i+c)+1,u=0,d=0,f=[];function v(t){var e;if("right"===t){if((u+=l)+l-1>h.getMax())for(var n=u+l-h.getMax()-1,s=0;s<n;s++)e=h.getMinItem(),f[e].position=h.getMax()+1,f[e].transform+=f.length*(i+c),f[e].item.style.transform="translateX("+f[e].transform+"px)";d-=a+c}if("left"===t){if((u-=l)<h.getMin())for(s=0;s<l;s++)e=h.getMaxItem(),f[e].position=h.getMin()-1,f[e].transform-=f.length*(i+c),f[e].item.style.transform="translateX("+f[e].transform+"px)";d+=a+c}r.style.transform="translateX("+d+"px)"}function m(t){var e;(t.target.classList.contains("slider__btn")||t.target.parentNode.classList.contains("slider__btn"))&&(t.preventDefault(),e=t.target.classList.contains("slider__btn--right")||t.target.parentNode.classList.contains("slider__btn--right")?"right":"left",v(e))}function _(t){function e(t){var e=t.changedTouches[0].pageX,n=o-e;s=n<0?"left":0<n?"right":null,i+=Math.abs(n),o=e}var s,o=t.changedTouches[0].pageX,i=0,n=function(){r.removeEventListener("touchmove",e),r.removeEventListener("touchend",n),.3*a<i&&v(s)};r.addEventListener("touchmove",e),r.addEventListener("touchend",n)}r.removeAttribute("style"),s.forEach(function(t){t.removeAttribute("style")}),s.forEach(function(t,e){f.push({item:t,position:e,transform:0})});var h={getMinItem:function(){var n=0;return f.forEach(function(t,e){t.position<f[n].position&&(n=e)}),n},getMaxItem:function(){var n=0;return f.forEach(function(t,e){t.position>f[n].position&&(n=e)}),n},getMin:function(){return f[h.getMinItem()].position},getMax:function(){return f[h.getMaxItem()].position}};o.forEach(function(t){t.addEventListener("click",m)}),r.addEventListener("touchstart",_)}t(".trainers"),t(".reviews")}(),function(){var t,e,n,s=8;e=document.querySelector(".contacts").querySelector(".registration__form"),(n=e.querySelector('input[type="tel"]')).addEventListener("focus",function(){e.value=t||"+7("}),n.addEventListener("input",function(){n.match(/\+$|\+7$|\+7\([^\d]/)&&(n.value="+7("),n.value.match(/\)/)?n.value=n.value.match(/\+7\(\d{3}\)\d{0,7}/):(n.value.match(/\+7\(\d+/)&&(n.value=n.value.match(/\+7\(\d+/)),n.value.match(/\+7\(\d{3}/)&&(n.value+=")")),n.addEventListener("keydown",function(t){t.keyCode===s&&n.value.match(/\+7\(\d{3}\)$/)&&(n.value=n.value.slice(0,-1))}),n.addEventListener("change",function(){t=n.value})}),n.addEventListener("invalid",function(){n.setCustomValidity("Значение поля должно быть в формате: +7(999)9999999")})}();